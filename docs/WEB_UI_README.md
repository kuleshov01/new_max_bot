# Панель управления чат-ботами

Веб-интерфейс для управления множеством чат-ботов платформы Max.ru.

## Установка

1. Установите зависимости:
```bash
pip install -r requirements.txt
```

## Запуск

Запустите веб-сервер:
```bash
python app.py
```

Откройте в браузере: `http://localhost:5000`

## Функционал

### Создание бота
1. Нажмите "Создать бота"
2. Заполните форму:
   - Название бота
   - Токен авторизации
   - Base URL (по умолчанию https://platform-api.max.ru)
   - Стартовое сообщение
   - Меню в формате JSON

### Управление ботами
- **Запустить** - запустить бота (он начнет получать и обрабатывать сообщения)
- **Остановить** - остановить бота
- **Перезапуск** - перезапустить бота
- **Редактировать** - изменить настройки бота
- **Удалить** - удалить бота

### Формат меню JSON

Меню должно быть в формате массива строк кнопок:

```json
[
    [
        {"type": "callback", "text": "Кнопка 1", "payload": "action1"},
        {"type": "callback", "text": "Кнопка 2", "payload": "action2"}
    ],
    [
        {"type": "callback", "text": "Кнопка 3", "payload": "action3"}
    ]
]
```

Каждый вложенный массив - это новая строка кнопок в меню.

## API endpoints

### GET /api/bots
Получить список всех ботов

### POST /api/bots
Создать нового бота

### GET /api/bots/<id>
Получить информацию о боте

### PUT /api/bots/<id>
Обновить информацию о боте

### DELETE /api/bots/<id>
Удалить бота

### POST /api/bots/<id>/start
Запустить бота

### POST /api/bots/<id>/stop
Остановить бота

### POST /api/bots/<id>/restart
Перезапустить бота

## Архитектура

- `app.py` - Flask приложение с REST API
- `bot_manager.py` - класс для управления запущенными ботами
- `database.py` - работа с SQLite базой данных
- `templates/index.html` - фронтенд интерфейс
- `static/style.css` - стили
- `static/app.js` - клиентская логика